hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClasses = color_classes(seq(0, 100, by = 20))) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
hcmap("countries/us/us-ga-all",
data = d_black,
value = "Birth_rate_black",
joinBy = c("name", "County"),
name = "Black birth rate",
#dataLabels = list(enabled = TRUE, format = "{point.name}"),
borderColor = "#FAFAFA",
#borderColor = "transparent",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
#valuePrefix = "$",
valueSuffix = "%")) %>%
hc_colorAxis(dataClasses = color_classes(seq(0, 100, by = 20))) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_title(text = "Birth rates for black mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
hcmap("countries/us/us-ga-all",
data = d_black,
value = "Birth_rate_black",
joinBy = c("name", "County"),
name = "Black birth rate",
#dataLabels = list(enabled = TRUE, format = "{point.name}"),
borderColor = "#FAFAFA",
#borderColor = "transparent",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
#valuePrefix = "$",
valueSuffix = "%")) %>%
hc_colorAxis() %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_title(text = "Birth rates for black mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
hcmap("countries/us/us-ga-all",
data = d_black,
value = "Birth_rate_black",
joinBy = c("name", "County"),
name = "Black birth rate",
#dataLabels = list(enabled = TRUE, format = "{point.name}"),
borderColor = "#FAFAFA",
#borderColor = "transparent",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
#valuePrefix = "$",
valueSuffix = "%")) %>%
hc_colorAxis(max = 100) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_title(text = "Birth rates for black mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
max = 100) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClasses = color_classes(seq(0, 100, by = 20)),
max = 100) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(#dataClasses = color_classes(seq(0, 100, by = 20)),
max = 100) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
hcmap("countries/us/us-ga-all",
data = d_black,
value = "Birth_rate_black",
joinBy = c("name", "County"),
name = "Black birth rate",
#dataLabels = list(enabled = TRUE, format = "{point.name}"),
borderColor = "#FAFAFA",
#borderColor = "transparent",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
#valuePrefix = "$",
valueSuffix = "%")) %>%
hc_colorAxis(max = 100) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_title(text = "Birth rates for black mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
mean(d_white$Birth_rate_white)
mean(d_black$Birth_rate_black)
mean(d_black$Birth_rate_black, na.rm = T)
pacman::p_load(sf, viridisLite, readxl, dplyr, highcharter)
substring(viridis(n + 1), 0, 7)
substring(viridis(4 + 1), 0, 7)
ga = left_join(d_white, d_black, by = "County")
View(ga)
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(#dataClasses = color_classes(seq(0, 100, by = 20)),
max = 100) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE) %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
hcmap("countries/us/us-ga-all",
data = d_black,
value = "Birth_rate_black",
joinBy = c("name", "County"),
name = "Black birth rate",
#dataLabels = list(enabled = TRUE, format = "{point.name}"),
borderColor = "#FAFAFA",
#borderColor = "transparent",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
#valuePrefix = "$",
valueSuffix = "%")) %>%
hc_colorAxis(max = 100) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE, y = 50) %>%
hc_title(text = "Birth rates for black mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
hcmap("countries/us/us-ga-all",
data = d_black,
value = "Birth_rate_black",
joinBy = c("name", "County"),
name = "Black birth rate",
#dataLabels = list(enabled = TRUE, format = "{point.name}"),
borderColor = "#FAFAFA",
#borderColor = "transparent",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
#valuePrefix = "$",
valueSuffix = "%")) %>%
hc_colorAxis(max = 100) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_title(text = "Birth rates for black mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
substring(viridis(5,
option = "C"), 0, 7)
viridis(5,
option = "C")
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClasses = d_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE) %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
d_color = data.frame(from = seq( 0,  90, 10),
to   = seq(10, 100, 10),
color = substring(viridis(9, option = "C"),
0, 7)) %>%
list_parse()
seq( 0,  90, 10)
d_color = data.frame(from = seq( 0,  90, 10),
to   = seq(10, 100, 10),
color = substring(viridis(10, option = "C"),
0, 7)) %>%
list_parse()
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClasses = d_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE) %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
d_color = data.frame(from = seq( 0,  90, 10),
to   = seq(10, 100, 10),
color = substring(viridis(10, option = "C", direction = -1),
0, 7)) %>%
list_parse()
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClasses = d_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE) %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
d_color = data.frame(
from = seq( 0,  90, 10),
to   = seq(10, 100, 10),
color = substring(viridis(10,
option = "C",
direction = 1),
0, 7)) %>%
list_parse()
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClasses = d_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE) %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
?hc_colorAxis
n <- 4
stops <- data.frame(q = 0:n/n,
c = substring(viridis(n + 1), 0, 7),
stringsAsFactors = FALSE)
stops <- list_parse2(stops)
stops
stops <- data.frame(q = 0:n/n,
c = substring(viridis(n + 1), 0, 7),
stringsAsFactors = FALSE)
stops
from = seq( 0,  90, 10),
to   = seq(10, 100, 10),
color = substring(viridis(10,
option = "C",
direction = 1),
0, 7)) %>%
list_parse2()
d_color = data.frame(
from = seq( 0,  90, 10),
to   = seq(10, 100, 10),
color = substring(viridis(10,
option = "C",
direction = 1),
0, 7)) %>%
list_parse2()
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(stops = d_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE) %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
q = 0:9,
c = substring(viridis(10,
option = "C",
direction = 1),
0, 7),
stringsAsFactors = FALSE) %>%
list_parse2()
d_color = data.frame(
q = 0:9,
c = substring(viridis(10,
option = "C",
direction = 1),
0, 7),
stringsAsFactors = FALSE) %>%
list_parse2()
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(stops = d_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE) %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
q = 0:90,
c = substring(viridis(91,
option = "C",
direction = 1),
0, 7),
stringsAsFactors = FALSE) %>%
list_parse2()
d_color = data.frame(
q = 0:90,
c = substring(viridis(91,
option = "C",
direction = 1),
0, 7),
stringsAsFactors = FALSE) %>%
list_parse2()
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(stops = d_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE) %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
d_color = data.frame(
q = 0:90,
c = substring(viridis(2,
option = "C",
direction = 1),
0, 7),
stringsAsFactors = FALSE) %>%
list_parse2()
d_color = data.frame(
q = 0:4/5,
c = substring(viridis(5,
option = "C",
direction = 1),
0, 7),
stringsAsFactors = FALSE) %>%
list_parse2()
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(stops = d_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE) %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
