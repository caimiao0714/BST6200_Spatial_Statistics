hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
d_color = data.frame(from = seq( 0,  90, 10),
to   = seq(10, 100, 10),
color = substring(viridis(9, option = "C"),
0, 7)) %>%
list_parse()
seq( 0,  90, 10)
d_color = data.frame(from = seq( 0,  90, 10),
to   = seq(10, 100, 10),
color = substring(viridis(10, option = "C"),
0, 7)) %>%
list_parse()
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClasses = d_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE) %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
d_color = data.frame(from = seq( 0,  90, 10),
to   = seq(10, 100, 10),
color = substring(viridis(10, option = "C", direction = -1),
0, 7)) %>%
list_parse()
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClasses = d_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE) %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
d_color = data.frame(
from = seq( 0,  90, 10),
to   = seq(10, 100, 10),
color = substring(viridis(10,
option = "C",
direction = 1),
0, 7)) %>%
list_parse()
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClasses = d_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE) %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
?hc_colorAxis
n <- 4
stops <- data.frame(q = 0:n/n,
c = substring(viridis(n + 1), 0, 7),
stringsAsFactors = FALSE)
stops <- list_parse2(stops)
stops
stops <- data.frame(q = 0:n/n,
c = substring(viridis(n + 1), 0, 7),
stringsAsFactors = FALSE)
stops
from = seq( 0,  90, 10),
to   = seq(10, 100, 10),
color = substring(viridis(10,
option = "C",
direction = 1),
0, 7)) %>%
list_parse2()
d_color = data.frame(
from = seq( 0,  90, 10),
to   = seq(10, 100, 10),
color = substring(viridis(10,
option = "C",
direction = 1),
0, 7)) %>%
list_parse2()
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(stops = d_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE) %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
q = 0:9,
c = substring(viridis(10,
option = "C",
direction = 1),
0, 7),
stringsAsFactors = FALSE) %>%
list_parse2()
d_color = data.frame(
q = 0:9,
c = substring(viridis(10,
option = "C",
direction = 1),
0, 7),
stringsAsFactors = FALSE) %>%
list_parse2()
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(stops = d_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE) %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
q = 0:90,
c = substring(viridis(91,
option = "C",
direction = 1),
0, 7),
stringsAsFactors = FALSE) %>%
list_parse2()
d_color = data.frame(
q = 0:90,
c = substring(viridis(91,
option = "C",
direction = 1),
0, 7),
stringsAsFactors = FALSE) %>%
list_parse2()
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(stops = d_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE) %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
d_color = data.frame(
q = 0:90,
c = substring(viridis(2,
option = "C",
direction = 1),
0, 7),
stringsAsFactors = FALSE) %>%
list_parse2()
d_color = data.frame(
q = 0:4/5,
c = substring(viridis(5,
option = "C",
direction = 1),
0, 7),
stringsAsFactors = FALSE) %>%
list_parse2()
hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(stops = d_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
hc_mapNavigation(enabled = TRUE) %>%
hc_title(text = "Birth rates for white mothers in Georgia, USA 2018") %>%
hc_subtitle(text = "Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
pacman::p_load(sf, viridisLite, readxl, dplyr, highcharter)
d_white = read_excel("data/dph_wq_Birth_Rate_by_Residence__White_1_27_20_05_21_45_601531_PM.xlsx") %>%
slice(3:161) %>%
`colnames<-`(c("County", "Birth_rate_white")) %>%
mutate(Birth_rate_white = as.numeric(Birth_rate_white))
d_black = read_excel("data/dph_wq_Birth_Rate_by_Residence__Black_or_African-American_1_27_20_05_21_58_397429_PM.xlsx") %>%
slice(3:161) %>%
`colnames<-`(c("County", "Birth_rate_black")) %>%
mutate(Birth_rate_black = as.numeric(Birth_rate_black))
discrete_color = data.frame(
from = seq( 0,  90, 10),
to   = seq(10, 100, 10),
color = substring(viridis(10, option = "C", direction = 1), 0, 7)) %>%
list_parse()
# Some notes:
# dataClassColor = discrete_color
# dataLabels = list(enabled = TRUE, format = '{point.name}'),
p1 = hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClassColor = discrete_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
#hc_mapNavigation(enabled = TRUE) %>%
hc_title(text =
"Birth rates among white mothers in Georgia, USA 2018") %>%
hc_subtitle(text =
"Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
p1 = hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClassColor = discrete_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
#hc_mapNavigation(enabled = TRUE) %>%
hc_title(text =
"Birth rates among white mothers in Georgia, USA 2018") %>%
hc_subtitle(text =
"Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
p1 = hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClass = discrete_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
#hc_mapNavigation(enabled = TRUE) %>%
hc_title(text =
"Birth rates among white mothers in Georgia, USA 2018") %>%
hc_subtitle(text =
"Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
from = seq( 0,  90, 10),
to   = seq(10, 100, 10),
color = substring(viridis(10, option = "C", direction = 1), 0, 7)) %>%
list_parse()
discrete_color = data.frame(
from = seq( 0,  90, 10),
to   = seq(10, 100, 10),
color = substring(viridis(10, option = "C", direction = 1), 0, 7)) %>%
list_parse()
# Some notes:
# dataClassColor = discrete_color
# dataLabels = list(enabled = TRUE, format = '{point.name}'),
discrete_color
ï¼Ÿhc_colorAxis
?hc_colorAxis
p1 = hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClasses = discrete_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
#hc_mapNavigation(enabled = TRUE) %>%
hc_title(text =
"Birth rates among white mothers in Georgia, USA 2018") %>%
hc_subtitle(text =
"Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
?dataClasses
?dataClass
p1 = hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(color_classes = discrete_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
#hc_mapNavigation(enabled = TRUE) %>%
hc_title(text =
"Birth rates among white mothers in Georgia, USA 2018") %>%
hc_subtitle(text =
"Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
p1 = hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(color_classes = discrete_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
#hc_mapNavigation(enabled = TRUE) %>%
hc_title(text =
"Birth rates among white mothers in Georgia, USA 2018") %>%
hc_subtitle(text =
"Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
p1 = hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClasses = discrete_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
#hc_mapNavigation(enabled = TRUE) %>%
hc_title(text =
"Birth rates among white mothers in Georgia, USA 2018") %>%
hc_subtitle(text =
"Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
color_classes(c(seq(0, 10, by = 2), 50))
p1 = hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClasses =  color_classes(c(seq(0, 10, by = 2), 50))) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
#hc_mapNavigation(enabled = TRUE) %>%
hc_title(text =
"Birth rates among white mothers in Georgia, USA 2018") %>%
hc_subtitle(text =
"Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
p1 = hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClasses = discrete_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
#hc_mapNavigation(enabled = TRUE) %>%
hc_title(text =
"Birth rates among white mothers in Georgia, USA 2018") %>%
hc_subtitle(text =
"Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
p1
p1 = hcmap("countries/us/us-ga-all",
data = d_white,
value = "Birth_rate_white",
joinBy = c("name", "County"),
name = "White birth rate",
borderColor = "#FAFAFA",
borderWidth = 0.5,
tooltip = list(valueDecimals = 2,
valueSuffix = "%")) %>%
hc_colorAxis(dataClassColor = discrete_color) %>%
hc_legend(layout = "vertical",
align = "right",
verticalAlign = "top",
y = 60,
floating = TRUE,
valueDecimals = 0,
valueSuffix = "%") %>%
#hc_mapNavigation(enabled = TRUE) %>%
hc_title(text =
"Birth rates among white mothers in Georgia, USA 2018") %>%
hc_subtitle(text =
"Georgia Department of Public Health's Data Warehouse") %>%
hc_add_theme(hc_theme_ft())
p1
